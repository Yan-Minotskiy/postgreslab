1. Настроили СУБД на сбор статистической информации на сбор статистики по обращениям к таблицам и индексам, по отслеживанию пользовательских функций, по времени чтения и записи блоков.

C:\Program Files\PostgreSQL\13\data\postgresql.conf

```
#track_activities = on
#track_counts = on
track_counts = on
#track_io_timing = on
track_io_timing = on
#track_functions = all # none, pl, all
track_functions = all
#track_activity_query_size = 2048 # (change requires restart)
#stats_temp_directory = 'pg_stat_tmp'
```

![](RackMultipart20210519-4-j89xhb_html_b23c7b7d81c97751.png)

2. Просмотрели текущее состояние системы с помощью предопределенных представлений (3 любых представления)

![](RackMultipart20210519-4-j89xhb_html_a05dd2626ffd09fc.png)

![](RackMultipart20210519-4-j89xhb_html_8d5f941823d5ac37.png)

![](RackMultipart20210519-4-j89xhb_html_d2ab18ca8da63f4a.png)

![](RackMultipart20210519-4-j89xhb_html_e6a996187eb72124.png)

3. Собрали статистику по обращениям к таблицам и индексам, по отслеживанию пользовательских функций, по времени чтения и записи блоков.

![](RackMultipart20210519-4-j89xhb_html_d90bd9dacccc5dd7.png)

![](RackMultipart20210519-4-j89xhb_html_67f9272aaec2807d.png)

![](RackMultipart20210519-4-j89xhb_html_62d4cb254e286e84.png)

4. Избавились от мусорных данных (&quot;мертвые кортежи&quot; и тд) с помощью операторов PostgreSQL

vacuum(full, verbose, analyze);

![](RackMultipart20210519-4-j89xhb_html_130be02207c8384f.png)

5. Повторно собрали статистику

![](RackMultipart20210519-4-j89xhb_html_fd227f8e7914832e.png)